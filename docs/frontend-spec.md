# MICHE VIDEO フロントエンド仕様書（仮）

## デザイン方針
**YouTubeのスマホアプリとまるっきり同じUI**
- スマホユーザーが主体
- PC（Web）も対応するが、基本はスマホ優先のレスポンシブデザイン

---

## 画面構成

### 1. 動画一覧ページ（ホーム）
**URL**: `/`

#### レイアウト（YouTubeと同じ）

**トップバー**（固定、白背景）:
- 左：MICHEロゴ
- 右：検索アイコン（後回し）、プロフィールアイコン

**動画カードリスト**（縦スクロール）:
各カードは以下の構成：
```
┌─────────────────────────────────┐
│ ┌──────┐ タイトル（2行まで）    │
│ │サム  │ チャンネル名・視聴数・日時 │
│ │ネイル│ 成人バッジ（web版のみ）  │
│ └──────┘                       ⋮│
└─────────────────────────────────┘
```
- サムネイル：左側、16:9の横長（約120x68px）
- 右側エリア：
  - タイトル（太字、2行まで、超えたら...）
  - チャンネル名（グレー、小さめ）
  - 「視聴回数 XXX 回・X日前」（グレー、小さめ）
  - 成人向けバッジ（web版のみ、赤い「18+」）
  - 右端：メニューアイコン（⋮）

**ボトムナビゲーション**（固定、白背景）:
- ホームアイコン（選択時：黒、非選択時：グレー）
- ＋アイコン（アップロード）
- プロフィールアイコン
- 各アイコンの下にラベル（ホーム、アップロード、ライブラリ）

**データ（モック）**:
```ts
{
  id: string
  title: string
  thumbnail_url: string
  user_name: string
  view_count: number
  created_at: string
  is_adult: boolean
}[]
```

---

### 2. 動画視聴ページ
**URL**: `/video/:id`

#### レイアウト（YouTubeと同じ）

**動画プレーヤー**（全幅、16:9）:
- Bunny.net想定だが、モックでは `<Video>` コンポーネント
- 再生/一時停止、シークバー、全画面ボタン

**動画情報エリア**（白背景、縦スクロール）:

1. **タイトル・視聴数エリア**:
   - タイトル（太字、大きめ、複数行OK）
   - 視聴回数 XXX 回・YYYY/MM/DD（グレー、小さめ）

2. **チャンネル情報エリア**:
   ```
   ┌─────────────────────────────┐
   │ [アイコン] チャンネル名       │
   │            （登録者数は後回し）│
   └─────────────────────────────┘
   ```

3. **アクションボタン群**（横スクロール可能）:
   - 👍 いいね（後回し、表示のみ）
   - 👎 低評価（後回し、表示のみ）
   - 🔗 シェア（後回し）
   - 💾 保存（後回し）
   - ⋮ メニュー（後回し）

4. **説明文エリア**（展開/折りたたみ可能）:
   - 説明文（3行まで表示、「もっと見る」で展開）

5. **使用IP情報エリア**（IPを使用している場合のみ表示）:
   ```
   ┌─────────────────────────────┐
   │ 使用IP                       │
   │ ┌────┐ IP名                 │
   │ │IP  │ ライセンス種別         │
   │ │画像│                       │
   │ └────┘                       │
   └─────────────────────────────┘
   ```

6. **関連動画リスト**（後回しでも可）:
   - 動画カード（ホームと同じレイアウト）

**データ（モック）**:
```ts
{
  id: string
  title: string
  description: string
  video_url: string
  user_name: string
  user_avatar: string
  view_count: number
  created_at: string
  is_adult: boolean
  ip_license: {
    id: string
    name: string
    thumbnail: string
    license_type: string
  } | null
}
```

---

### 3. 動画アップロードページ
**URL**: `/upload`

#### レイアウト（シンプルなフォーム）

**トップバー**:
- 左：戻るボタン（×）
- 中央：「動画をアップロード」
- 右：（空白）

**アップロードフォーム**（白背景、縦スクロール）:

1. **動画選択エリア**:
   ```
   ┌─────────────────────────────┐
   │     📹                      │
   │  動画を選択またはドロップ      │
   │  （タップして選択）           │
   └─────────────────────────────┘
   ```
   - 選択後：動画プレビュー表示（小さめ）

2. **タイトル入力**:
   - ラベル：「タイトル」
   - テキストフィールド（1行）

3. **説明文入力**:
   - ラベル：「説明」
   - テキストエリア（複数行、5行程度）

4. **IP選択**:
   - ラベル：「使用するIP（任意）」
   - ドロップダウンまたはタップで選択モーダル
   - デフォルト：「IPを使用しない」
   - STUDIOから取得したIPリスト表示（サムネイル＋名前）

5. **成人向けフラグ**:
   - チェックボックス：「18歳以上向けコンテンツ」

6. **アップロードボタン**:
   - 大きめの青いボタン「アップロード」
   - 全項目入力後に有効化

7. **進捗表示**（アップロード中）:
   - プログレスバー
   - 「アップロード中... XX%」

**データ（モック）**:
```ts
// IPリスト
{
  id: string
  name: string
  thumbnail: string
  license_type: string
}[]
```

---

### 4. 認証ページ
**URL**: `/auth`

#### レイアウト（シンプルな中央配置）

**中央エリア**（最大幅400px、中央寄せ）:

1. **ロゴエリア**:
   - MICHEロゴ（大きめ、中央）

2. **タブ切り替え**:
   - ログイン / サインアップ（選択時下線）

3. **ログインフォーム**:
   - メールアドレス入力フィールド
   - パスワード入力フィールド
   - ログインボタン（青、全幅）

4. **サインアップフォーム**:
   - ユーザー名入力フィールド
   - メールアドレス入力フィールド
   - パスワード入力フィールド
   - パスワード確認入力フィールド
   - サインアップボタン（青、全幅）

**データ（モック）**:
```ts
// ログイン/サインアップ時に返却されるユーザー情報
{
  id: string
  name: string
  email: string
  avatar_url: string
}
```

---

## 共通コンポーネント

### ヘッダー
- すべてのページで共通
- レスポンシブ対応
- ログイン状態で表示変更

### ボトムナビゲーション（スマホのみ）
- ホーム、アップロード、プロフィール
- アイコンと選択状態の表示

### 動画カード
- サムネイル、タイトル、投稿者、視聴数、日時
- リスト表示とグリッド表示の両対応（後回しでも可）

---

## ナビゲーション構造

```
/ (動画一覧)
├── /video/:id (動画視聴)
├── /upload (動画アップロード) ※要ログイン
└── /auth (認証)
```

---

## プラットフォーム別の対応

### スマホ（iOS/Android App）
**レイアウト**:
- ボトムナビゲーション使用
- トップバー高さ：56px程度
- 動画カードのサムネイル：120x68px程度

**成人向けコンテンツ**:
- `is_adult: true` の動画は完全非表示
- 一覧に出ない、視聴もできない

### PC（Web）
**レイアウト**:
- 画面幅に応じてレスポンシブ
- 最大幅：1200px程度（中央寄せ）
- 動画カード：少し大きめ（サムネイル 168x94px程度）
- ボトムナビゲーション→サイドバーまたはトップナビ（どちらでも可）

**成人向けコンテンツ**:
- `is_adult: true` の動画も表示
- 動画カードに赤い「18+」バッジ表示
- サムネイルにぼかし（タップで表示、後回しでも可）

### 共通の動作
- 基本的なUIはスマホもPCも同じ
- PCは横幅が広いだけ
- React NativeのStyleSheetでレスポンシブ対応

---

## 状態管理

### グローバルステート
- ユーザー認証状態（ログイン/未ログイン、ユーザー情報）
- プラットフォーム判定（app/web）

### ローカルステート
- 各画面のフォーム入力値
- 動画データ
- ローディング状態

---

## モックデータの場所
`/mock` ディレクトリに以下を配置:
- `videos.json` - 動画一覧データ
- `video-detail.json` - 動画詳細データ
- `ip-licenses.json` - IPライセンスデータ
- `user.json` - ユーザー情報

---

## 技術スタック
- Expo (React Native)
- Expo Router（ファイルベースルーティング）
- expo-av（動画再生）
- expo-image-picker（動画選択）
- 状態管理：useState/Context API（必要なら後でZustand等導入）
- スタイリング：StyleSheet（シンプルに）

---

## スタイリング詳細（YouTubeライク）

### 色
```ts
const colors = {
  // 基本
  background: '#FFFFFF',
  text: '#0F0F0F',           // ほぼ黒
  textSecondary: '#606060',   // グレー
  border: '#E5E5E5',

  // アクセント
  primary: '#065FD4',         // YouTubeの青（ボタンなど）
  active: '#000000',          // 選択中（ナビアイコンなど）
  inactive: '#909090',        // 非選択

  // 成人向け
  adult: '#FF0000',           // 赤（18+バッジ）
}
```

### フォント
- タイトル：太字、14-16px
- 本文：通常、14px
- セカンダリ（視聴数など）：通常、12px
- ボトムナビラベル：10px

### 余白
- カード間：12px
- カード内padding：8-12px
- セクション間：16px

### シャドウ（控えめ）
- トップバー：軽いドロップシャドウ
- ボトムナビ：軽いドロップシャドウ

---

**シンプルに4画面だけ。YouTubeのスマホアプリとまるっきり同じUI。まずは動くものを作る。**

# Issue: Netflix ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å†ç”Ÿæ©Ÿèƒ½ã®å®Ÿè£…

## ğŸ“‹ æ¦‚è¦

Netflixã‚¿ãƒ–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸéš›ã€ç¾åœ¨ã¯AlertãŒè¡¨ç¤ºã•ã‚Œã‚‹ã ã‘ã§ä½•ã‚‚èµ·ã“ã‚‰ãªã„ã€‚
å®Ÿéš›ã«å‹•ç”»å†ç”Ÿã¾ã§è¡Œã‘ã‚‹ã‚ˆã†ã€å¿…è¦ãªãƒšãƒ¼ã‚¸ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®Ÿè£…ã™ã‚‹ã€‚

## ğŸ¯ ç›®æ¨™

1. Netflixã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ã‚¯ãƒªãƒƒã‚¯ â†’ è©³ç´°ãƒ»å†ç”Ÿãƒšãƒ¼ã‚¸ã¸é·ç§»
2. æ˜ ç”»ã®å ´åˆï¼šãã®ã¾ã¾å†ç”Ÿé–‹å§‹
3. ã‚·ãƒªãƒ¼ã‚ºã®å ´åˆï¼šã‚·ãƒ¼ã‚ºãƒ³ãƒ»ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é¸æŠ â†’ å†ç”Ÿ

## ğŸ“Š ç¾çŠ¶åˆ†æ

### ç¾åœ¨ã®å®Ÿè£…çŠ¶æ…‹

**netflix.tsx (app/(tabs)/netflix.tsx:42-54)**
```typescript
const handleContentPress = (content: NetflixContent) => {
  // è©³ç´°ç”»é¢ã¸é·ç§»ï¼ˆä»Šå¾Œå®Ÿè£…ï¼‰
  Alert.alert(content.title, content.description);
};

const handlePlay = (content: NetflixContent) => {
  // å†ç”Ÿç”»é¢ã¸é·ç§»
  if (content.type === 'movie') {
    Alert.alert('å†ç”Ÿ', `ã€Œ${content.title}ã€ã‚’å†ç”Ÿã—ã¾ã™ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰`);
  } else {
    Alert.alert('ã‚·ãƒªãƒ¼ã‚º', `ã€Œ${content.title}ã€ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’é¸æŠã—ã¦ãã ã•ã„ï¼ˆãƒ¢ãƒƒã‚¯ï¼‰`);
  }
};
```

### NetflixContentå‹å®šç¾© (types/index.ts:86-114)

```typescript
export interface NetflixContent {
  id: string;
  title: string;
  type: 'movie' | 'series';
  poster_url: string;
  backdrop_url: string;
  description: string;
  release_year: number;
  duration?: number; // æ˜ ç”»ã®å ´åˆï¼ˆåˆ†ï¼‰
  seasons?: Season[]; // ã‚·ãƒªãƒ¼ã‚ºã®å ´åˆ
  genres: string[];
  rating: number;
  is_adult: boolean;
  country: string;
}

export interface Season {
  season_number: number;
  episodes: Episode[];
}

export interface Episode {
  episode_number: number;
  title: string;
  description: string;
  duration: number;
  video_url: string; // âœ… episodeã«ã¯video_urlãŒã‚ã‚‹
  thumbnail_url: string;
}
```

### å•é¡Œç‚¹

1. âŒ **NetflixContentã«video_urlãŒãªã„**
   - movieã‚¿ã‚¤ãƒ—ã®å ´åˆã€ç›´æ¥å†ç”Ÿã™ã‚‹ãŸã‚ã®URLãŒå¿…è¦
   - ç¾åœ¨ã¯episodeã«ã—ã‹video_urlãŒãªã„

2. âŒ **Netflixå°‚ç”¨ã®è©³ç´°ãƒ»å†ç”Ÿãƒšãƒ¼ã‚¸ãŒå­˜åœ¨ã—ãªã„**
   - /app/netflix/[id].tsx ãŒå¿…è¦
   - å‚è€ƒ: /app/video/[id].tsx (YouTubeç”¨)

3. âŒ **ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é¸æŠUIãŒå­˜åœ¨ã—ãªã„**
   - ã‚·ãƒªãƒ¼ã‚ºã®å ´åˆã€ã‚·ãƒ¼ã‚ºãƒ³ãƒ»ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é¸æŠãŒå¿…è¦

## ğŸ› ï¸ å®Ÿè£…è¨ˆç”»

### Phase 1: å‹å®šç¾©ã®æ‹¡å¼µ

**ãƒ•ã‚¡ã‚¤ãƒ«**: `types/index.ts`

```typescript
export interface NetflixContent {
  id: string;
  title: string;
  type: 'movie' | 'series';
  poster_url: string;
  backdrop_url: string;
  description: string;
  release_year: number;
  duration?: number;
  video_url?: string; // âœ¨ è¿½åŠ : æ˜ ç”»ã®å ´åˆã®å‹•ç”»URL
  seasons?: Season[];
  genres: string[];
  rating: number;
  is_adult: boolean;
  country: string;
}
```

### Phase 2: ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°

**ãƒ•ã‚¡ã‚¤ãƒ«**: `mock/netflix-contents.json`

æ˜ ç”»ã‚¿ã‚¤ãƒ—ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã« `video_url` ã‚’è¿½åŠ ï¼š

```json
{
  "id": "1",
  "title": "æœªæ¥ã¸ã®æ—…ç«‹ã¡",
  "type": "movie",
  "video_url": "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
  ...
}
```

### Phase 3: Netflixè©³ç´°ãƒ»å†ç”Ÿãƒšãƒ¼ã‚¸ã®ä½œæˆ

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«**: `app/netflix/[id].tsx`

**æ©Ÿèƒ½**:
- å‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã§ã‚³ãƒ³ãƒ†ãƒ³ãƒ„IDã‚’å–å¾—
- getNetflixContentDetail APIã§ãƒ‡ãƒ¼ã‚¿å–å¾—
- movieã¨seriesã§è¡¨ç¤ºã‚’åˆ†å²

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ**:

#### æ˜ ç”»ã®å ´åˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   NetflixVideoPlayer        â”‚ â† å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¿ã‚¤ãƒˆãƒ«ãƒ»è©•ä¾¡ãƒ»å¹´åº¦         â”‚
â”‚ èª¬æ˜æ–‡                       â”‚
â”‚ ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»åˆ¶ä½œå›½             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ã‚·ãƒªãƒ¼ã‚ºã®å ´åˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ãƒãƒƒã‚¯ãƒ‰ãƒ­ãƒƒãƒ—ç”»åƒ         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¿ã‚¤ãƒˆãƒ«ãƒ»è©•ä¾¡ãƒ»å¹´åº¦         â”‚
â”‚ èª¬æ˜æ–‡                       â”‚
â”‚ ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»åˆ¶ä½œå›½             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚·ãƒ¼ã‚ºãƒ³é¸æŠã‚¿ãƒ–             â”‚ â† Season 1 | Season 2 | ...
â”‚                             â”‚
â”‚ ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ä¸€è¦§               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Ep1 ã‚µãƒ ãƒã‚¤ãƒ«      â”‚     â”‚
â”‚ â”‚ ã‚¿ã‚¤ãƒˆãƒ«            â”‚     â”‚
â”‚ â”‚ èª¬æ˜ | 45åˆ†         â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚ Ep2 ã‚µãƒ ãƒã‚¤ãƒ«      â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯æ™‚**:
- åŒã˜ãƒšãƒ¼ã‚¸å†…ã§å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚’ä¸Šéƒ¨ã«è¡¨ç¤º
- å†ç”Ÿä¸­ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰æƒ…å ±ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆ

### Phase 4: NetflixVideoPlayerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«**: `components/NetflixVideoPlayer.tsx`

**æ©Ÿèƒ½**:
- expo-avã®Videoã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨
- å†ç”Ÿ/ä¸€æ™‚åœæ­¢ã€ã‚·ãƒ¼ã‚¯ã€éŸ³é‡èª¿æ•´
- ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³å¯¾å¿œ
- å­—å¹•å¯¾å¿œï¼ˆå°†æ¥çš„ã«ï¼‰

**å‚è€ƒ**: `components/VideoPlayer.tsx` (YouTubeç”¨)

### Phase 5: ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é¸æŠUI

**æ–°è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `components/SeasonEpisodeSelector.tsx`

**æ©Ÿèƒ½**:
- ã‚·ãƒ¼ã‚ºãƒ³ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
- ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ä¸€è¦§è¡¨ç¤ºï¼ˆã‚µãƒ ãƒã‚¤ãƒ«ã€ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜ã€å†ç”Ÿæ™‚é–“ï¼‰
- è¦–è´æ¸ˆã¿ãƒãƒ¼ã‚¯ï¼ˆé€²æ—ãƒãƒ¼ï¼‰
- ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯ â†’ å‹•ç”»å†ç”Ÿ

### Phase 6: APIé–¢æ•°ã®è¿½åŠ 

**ãƒ•ã‚¡ã‚¤ãƒ«**: `utils/mockApi.ts`

```typescript
// Netflix ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è©³ç´°ã‚’å–å¾—
export const getNetflixContentDetail = async (id: string): Promise<NetflixContent> => {
  await delay(500);
  const contents = await getNetflixContents();
  const content = contents.find(c => c.id === id);
  if (!content) {
    throw new Error('Content not found');
  }
  return content;
};
```

### Phase 7: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä¿®æ­£

**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/(tabs)/netflix.tsx`

```typescript
const handleContentPress = (content: NetflixContent) => {
  router.push(`/netflix/${content.id}`);
};

const handlePlay = (content: NetflixContent) => {
  router.push(`/netflix/${content.id}`);
};
```

## ğŸ“ ç”»é¢è¨­è¨ˆ

### Netflixè©³ç´°ãƒ»å†ç”Ÿãƒšãƒ¼ã‚¸

#### å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
- æˆ»ã‚‹ãƒœã‚¿ãƒ³ï¼ˆå·¦ä¸Šï¼‰
- ã‚¿ã‚¤ãƒˆãƒ«
- ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³ï¼ˆå³ä¸Šï¼‰

#### æ˜ ç”»ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
1. **å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼ã‚¨ãƒªã‚¢** (16:9)
2. **æƒ…å ±ã‚¨ãƒªã‚¢**
   - ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆH1ï¼‰
   - è©•ä¾¡ â­ 4.5 | 2023å¹´ | 2æ™‚é–“15åˆ†
   - å†ç”Ÿãƒœã‚¿ãƒ³ / ãƒã‚¤ãƒªã‚¹ãƒˆè¿½åŠ 
   - èª¬æ˜æ–‡ï¼ˆæŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ï¼‰
   - ã‚¸ãƒ£ãƒ³ãƒ«: ã‚¢ã‚¯ã‚·ãƒ§ãƒ³, SF
   - åˆ¶ä½œå›½: JP

#### ã‚·ãƒªãƒ¼ã‚ºãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
1. **ãƒãƒƒã‚¯ãƒ‰ãƒ­ãƒƒãƒ—ç”»åƒ**
2. **æƒ…å ±ã‚¨ãƒªã‚¢** (æ˜ ç”»ã¨åŒæ§˜)
3. **ã‚·ãƒ¼ã‚ºãƒ³ã‚¿ãƒ–**
   - Season 1 | Season 2 | Season 3
4. **ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ä¸€è¦§**
   - å„ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚«ãƒ¼ãƒ‰:
     - ã‚µãƒ ãƒã‚¤ãƒ« (120x90)
     - Ep.1 ã‚¿ã‚¤ãƒˆãƒ«
     - èª¬æ˜ï¼ˆ1-2è¡Œï¼‰
     - 45åˆ† | è¦–è´æ¸ˆã¿80%

## ğŸ¨ ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

### ãƒ¢ãƒã‚¤ãƒ« (< 768px)
- å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼: å…¨å¹…
- æƒ…å ±: å˜ä¸€ã‚«ãƒ©ãƒ 
- ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰: ç¸¦ã‚¹ã‚¿ãƒƒã‚¯

### ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ (768px - 1024px)
- å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼: å…¨å¹…
- æƒ…å ±: å˜ä¸€ã‚«ãƒ©ãƒ 
- ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰: ç¸¦ã‚¹ã‚¿ãƒƒã‚¯ï¼ˆå°‘ã—å¤§ãã‚ï¼‰

### ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— (â‰¥ 1024px)
- å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼: æœ€å¤§å¹…1200pxã€ä¸­å¤®é…ç½®
- æƒ…å ±: 2ã‚«ãƒ©ãƒ å¯èƒ½
- ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰: ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤ºã‚‚æ¤œè¨

## âœ… å®Œäº†æ¡ä»¶

- [ ] NetflixContentå‹ã«video_urlè¿½åŠ 
- [ ] ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿ã«video_urlè¿½åŠ 
- [ ] /app/netflix/[id].tsx ä½œæˆ
- [ ] NetflixVideoPlayerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- [ ] SeasonEpisodeSelectorã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- [ ] getNetflixContentDetail APIé–¢æ•°è¿½åŠ 
- [ ] netflix.tsxã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ä¿®æ­£
- [ ] æ˜ ç”»ã‚¿ã‚¤ãƒ—ã®å†ç”Ÿå‹•ä½œç¢ºèª
- [ ] ã‚·ãƒªãƒ¼ã‚ºã‚¿ã‚¤ãƒ—ã®ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é¸æŠãƒ»å†ç”Ÿå‹•ä½œç¢ºèª
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–è¡¨ç¤ºç¢ºèª

## ğŸ”„ ãƒ•ãƒ­ãƒ¼å›³

```
[Netflixã‚¿ãƒ–]
     â†“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¯ãƒªãƒƒã‚¯
[/netflix/[id]]
     â†“
   movie? â”Œâ”€â”€â”€ Yes â†’ å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼è¡¨ç¤º â†’ å³åº§ã«å†ç”Ÿå¯èƒ½
          â”‚
          â””â”€â”€â”€ No (series) â†’ ãƒãƒƒã‚¯ãƒ‰ãƒ­ãƒƒãƒ—ç”»åƒè¡¨ç¤º
                              â†“
                        ã‚·ãƒ¼ã‚ºãƒ³ãƒ»ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ä¸€è¦§
                              â†“ ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚¯ãƒªãƒƒã‚¯
                        å‹•ç”»ãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼è¡¨ç¤ºãƒ»å†ç”Ÿ
```

## ğŸ“š å‚è€ƒå®Ÿè£…

- **YouTubeå‹•ç”»è©³ç´°**: `app/video/[id].tsx`
- **VideoPlayerã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ**: `components/VideoPlayer.tsx`
- **Shortsãƒ—ãƒ¬ãƒ¼ãƒ¤ãƒ¼**: `components/ShortVideoPlayer.tsx`

## ğŸš€ å„ªå…ˆé †ä½

1. **High**: å‹å®šç¾©æ‹¡å¼µã€ãƒ¢ãƒƒã‚¯ãƒ‡ãƒ¼ã‚¿æ›´æ–°
2. **High**: Netflixè©³ç´°ãƒšãƒ¼ã‚¸ä½œæˆï¼ˆåŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
3. **High**: æ˜ ç”»ã‚¿ã‚¤ãƒ—ã®å†ç”Ÿæ©Ÿèƒ½
4. **Medium**: ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é¸æŠUI
5. **Medium**: ã‚·ãƒªãƒ¼ã‚ºã‚¿ã‚¤ãƒ—ã®å†ç”Ÿæ©Ÿèƒ½
6. **Low**: è¦–è´é€²æ—ä¿å­˜ã€å­—å¹•æ©Ÿèƒ½

## ğŸ“ å‚™è€ƒ

- å‹•ç”»URLã¯ã‚µãƒ³ãƒ—ãƒ«å‹•ç”»ã‚’ä½¿ç”¨ï¼ˆBig Buck Bunnyãªã©ï¼‰
- è¦–è´å±¥æ­´ã¸ã®è¨˜éŒ²ã¯å¾Œã®ãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿè£…
- æ¬¡å›å†ç”Ÿä½ç½®ã®è¨˜æ†¶ã‚‚å°†æ¥çš„ã«å®Ÿè£…

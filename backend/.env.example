# =================================
# Video Platform Backend - Environment Variables
# =================================

# ---------------------------------
# Server Configuration
# ---------------------------------
NODE_ENV=development
PORT=4000
HOST=0.0.0.0

# ---------------------------------
# Database Configuration
# ---------------------------------
DATABASE_URL=postgresql://user:password@localhost:5432/video_platform
# Example production:
# DATABASE_URL=postgresql://user:password@db.example.com:5432/video_platform?sslmode=require

# ---------------------------------
# Redis Configuration
# ---------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
# Example production:
# REDIS_HOST=your-redis-host.cache.amazonaws.com
# REDIS_PASSWORD=your-secure-password

# ---------------------------------
# JWT Configuration
# ---------------------------------
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_TOKEN_EXPIRES_IN=15m
JWT_REFRESH_TOKEN_EXPIRES_IN=30d

# ---------------------------------
# Security Configuration
# ---------------------------------
# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8081,http://localhost:19006
# Production example:
# CORS_ALLOWED_ORIGINS=https://app.example.com,https://www.example.com

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# Slow query threshold (milliseconds)
SLOW_QUERY_THRESHOLD=1000

# ---------------------------------
# AWS Configuration
# ---------------------------------
AWS_REGION=ap-northeast-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key

# S3 Bucket
S3_BUCKET_NAME=video-platform-uploads
S3_BUCKET_REGION=ap-northeast-1

# CloudFront Distribution
CLOUDFRONT_DISTRIBUTION_ID=YOUR_DISTRIBUTION_ID
CLOUDFRONT_DOMAIN=your-distribution.cloudfront.net

# MediaConvert
MEDIACONVERT_ENDPOINT=https://your-endpoint.mediaconvert.ap-northeast-1.amazonaws.com
MEDIACONVERT_ROLE_ARN=arn:aws:iam::123456789012:role/MediaConvertRole

# ---------------------------------
# Stripe Configuration
# ---------------------------------
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ---------------------------------
# CCBill Configuration (Stretch Goal 4)
# ---------------------------------
# CCBILL_CLIENT_ACCOUNT=your-client-account
# CCBILL_CLIENT_SUBACCOUNT=your-client-subaccount
# CCBILL_FLEXFORMS_ID=your-flexforms-id
# CCBILL_SALT=your-salt-key

# ---------------------------------
# Email Configuration
# ---------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@videoplatform.com

# ---------------------------------
# Logging Configuration
# ---------------------------------
LOG_LEVEL=info
LOG_DIR=logs
# Levels: error, warn, info, http, verbose, debug, silly

# ---------------------------------
# Monitoring Configuration (Production)
# ---------------------------------
# Sentry
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Datadog
# DD_API_KEY=your-datadog-api-key
# DD_APP_KEY=your-datadog-app-key

# New Relic
# NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
# NEW_RELIC_APP_NAME=video-platform-api

# CloudWatch (AWS credentials above)
# CLOUDWATCH_LOG_GROUP=video-platform-api
# CLOUDWATCH_LOG_STREAM=production

# ---------------------------------
# Feature Flags
# ---------------------------------
ENABLE_VIDEO_UPLOAD=true
ENABLE_LIVE_STREAMING=false
ENABLE_SHORTS=true
ENABLE_SUBSCRIPTIONS=true
ENABLE_TIPS=true

# ---------------------------------
# Platform Settings
# ---------------------------------
# Upload limits
MAX_VIDEO_SIZE_MB=500
MAX_THUMBNAIL_SIZE_MB=5
ALLOWED_VIDEO_FORMATS=mp4,mov,avi,mkv
ALLOWED_IMAGE_FORMATS=jpg,jpeg,png,webp

# Content moderation
ENABLE_CONTENT_MODERATION=false
# CONTENT_MODERATION_API_KEY=your-moderation-api-key

# ---------------------------------
# Development Only
# ---------------------------------
# Enable debug mode (detailed logs, error messages)
DEBUG=false

# Mock external services (for testing without AWS/Stripe)
MOCK_AWS_SERVICES=false
MOCK_STRIPE=false
